# ğŸ§© BÃ€I Táº¬P 3  
**Nguyá»…n HÃ¹ng LÃ¢n â€“ K215480106030**

---

## ğŸ¯ Má»¥c tiÃªu  
HoÃ n thÃ nh cÃ i Ä‘áº·t **Ubuntu** vÃ  **Docker**, triá»ƒn khai há»‡ thá»‘ng **IoT giÃ¡m sÃ¡t dá»¯ liá»‡u cáº£m biáº¿n** vá»›i cÃ¡c thÃ nh pháº§n:  
- Node-RED  
- MariaDB (quáº£n lÃ½ qua phpMyAdmin)  
- InfluxDB  
- Grafana  

---

## âš™ï¸ QuÃ¡ trÃ¬nh thá»±c hiá»‡n  

### 1ï¸âƒ£ CÃ i Ä‘áº·t mÃ´i trÆ°á»ng  
Sá»­ dá»¥ng **phÆ°Æ¡ng Ã¡n enable WSL** Ä‘á»ƒ cÃ i Ä‘áº·t **Ubuntu** vÃ  **Docker**.  
<p align="center">
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/733fdc28-995b-4fe1-bb0e-16a4c5960145" />
</p>

---

### 2ï¸âƒ£ CÃ i Ä‘áº·t vÃ  cháº¡y cÃ¡c thÃ nh pháº§n **Node-RED**, **MariaDB (quáº£n lÃ½ qua phpMyAdmin)**, **InfluxDB**, **Grafana**.
HoÃ n thÃ nh cÃ i Ä‘áº·t, cháº¡y chÆ°Æ¡ng trÃ¬nh láº§n Ä‘áº§u **khÃ´ng cÃ²n lá»—i cá»•ng**.  
<p align="center">
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/4ebdc6c3-ce5c-4d25-9785-50357d25974b" />
</p>

---

### 3ï¸âƒ£ Thiáº¿t láº­p Node-RED  
Báº¯t Ä‘áº§u cáº¥u hÃ¬nh Node-RED.  
<p align="center">
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/3b2e5a46-a89d-4b21-84d9-955de60c416b" />
</p>

Táº¡o **API Tokens**.  
<p align="center">
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/2aa1b450-dfdf-4d47-91ce-a6874fdbb01f" />
</p>

HoÃ n thiá»‡n cáº¥u hÃ¬nh Node-RED.  
<p align="center">
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/e8984b05-a8fb-4bb8-a4d6-2763fb74a23e" />
</p>

Há»‡ thá»‘ng gá»­i **cáº­p nháº­t dá»¯ liá»‡u má»—i 5 giÃ¢y**.  
<p align="center">
<img width="309" height="764" alt="image" src="https://github.com/user-attachments/assets/7f20e817-ea0f-41d3-a6b3-4aa018bb97a4" />
</p>

---

### 4ï¸âƒ£ Kiá»ƒm tra API  
API hoáº¡t Ä‘á»™ng á»•n Ä‘á»‹nh.  
<p align="center">
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/110e8cd7-3e3b-469e-858c-4fd60f87714c" />
</p>

---

### 5ï¸âƒ£ Cáº¥u hÃ¬nh phpMyAdmin  
Truy cáº­p vÃ  quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u.  
<p align="center">
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/60d27d72-cdd1-42fb-98f6-faa64ce5c9db" />
</p>

---

### 6ï¸âƒ£ Giao diá»‡n Web hiá»ƒn thá»‹ dá»¯ liá»‡u  
Dá»¯ liá»‡u **tá»± Ä‘á»™ng cáº­p nháº­t 5 giÃ¢y/láº§n**.  
<p align="center">
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/a077c074-eb4e-4f92-a853-bba3304819c1" />
</p>

---

### 7ï¸âƒ£ Cáº¥u hÃ¬nh Node-RED tá»‘i Æ°u má»›i  
HoÃ n thiá»‡n phiÃªn báº£n **tá»‘i Æ°u hÆ¡n** cho há»‡ thá»‘ng vÃ¬ báº¯t Ä‘áº§u xuáº¥t hiá»‡n lá»—i nÃªn thÃªm má»™t sá»‘ node vÃ  sá»­a má»™t chÃºt cáº¥u hÃ¬nh.  
<p align="center">
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/343439e0-1298-4220-95d6-64a191851936" />
</p>

---

### 8ï¸âƒ£ Truy váº¥n dá»¯ liá»‡u trÃªn InfluxDB UI  
InfluxDB vÃ  Grafana tá»“n Ä‘á»ng quÃ¡ nhiá»u lá»—i nhÆ° (chÆ°a Ä‘Ãºng format Ä‘á»¯ liá»‡u nÃªn grafana chÆ°a Ä‘á»ƒ thá»ƒ Ä‘á»c vÃ  váº½ biá»ƒu Ä‘á»“ máº·c dÃ¹ dá»¯ liá»‡u tá»« nodered Ä‘Ã£ Ä‘Ãºng Ä‘á»‹nh dáº¡ng) nÃªn em chÆ°a thá»ƒ hoÃ n thiá»‡n Ä‘Æ°á»£c em nghi váº¥n lÃ  do lá»—i cáº¥u hÃ¬nh tá»« node Ghi vÃ o influxDB nhÆ°ng em chÆ°a tÃ¬m Ä‘c hÆ°á»›ng fix em Ä‘Ã£ sá»­a Ä‘i sá»­a láº¡i khÃ¡ nhiá»u láº§n dáº«n Ä‘áº¿n lá»—i chá»“ng lá»—i vÃ  pháº£i lÃ m láº¡i tá»« Ä‘áº§u dá»± Ã¡n khÃ¡ nhiá»u láº§n vÃ  Ä‘Ã¢y lÃ  dá»± Ã¡n cÃ³ thá»ƒ nÃ³i lÃ  á»•n Ä‘á»‹nh trong cÃ¡c láº§n lÃ m tá»« lÃºc Ä‘Æ°á»£c giao dá»± Ã¡n Ä‘áº¿n thá»i Ä‘iá»ƒm bÃ¢y giá».

Äá»‹nh dáº¡ng dá»¯ liá»‡u tá»« cáº£m biáº¿n (Ä‘Æ°á»£c mÃ´ phá»ng bá»Ÿi nodered) cÃ³ dáº¡ng nhÆ° sau: 

{
  "temperature": 28.6,
  "humidity": 65.3
}
trong Ä‘Ã³ gá»“m cÃ³ temperature: Nhiá»‡t Ä‘á»™ vÃ  humidity: Äá»™ áº©m
<p align="center">
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/749e9f56-ff1c-48d6-8dfa-bfef9e6cce04" />
</p>

---

9ï¸âƒ£ Trá»±c quan hÃ³a dá»¯ liá»‡u báº±ng Grafana

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/075b1469-362f-426c-98d6-8f673760b5b5" />

## ğŸ§  Káº¿t luáº­n  

Qua quÃ¡ trÃ¬nh thá»±c hiá»‡n dá»± Ã¡n nÃ y, em Ä‘Ã£ cÃ³ cÆ¡ há»™i **hiá»ƒu sÃ¢u hÆ¡n vá» cÃ¡ch xÃ¢y dá»±ng má»™t há»‡ thá»‘ng IoT** vÃ  **láº­p trÃ¬nh web giÃ¡m sÃ¡t dá»¯ liá»‡u cáº£m biáº¿n**, sá»­ dá»¥ng **Node-RED** lÃ m trung tÃ¢m, káº¿t há»£p **MariaDB**, **InfluxDB** vÃ  **Grafana**.

Ban Ä‘áº§u, em gáº·p nhiá»u khÃ³ khÄƒn trong viá»‡c cÃ i Ä‘áº·t mÃ´i trÆ°á»ng Linux qua WSL, cáº¥u hÃ¬nh Docker Compose Ä‘á»ƒ cháº¡y cÃ¡c container, vÃ  xá»­ lÃ½ lá»—i káº¿t ná»‘i database nhÆ° *permission denied* hay *port allocated*.  
Nhá» viá»‡c tra cá»©u tÃ i liá»‡u, sá»­ dá»¥ng **AI (ChatGPT, GrokAI)** vÃ  thá»­ nghiá»‡m thá»±c táº¿, em Ä‘Ã£ há»c Ä‘Æ°á»£c cÃ¡ch:  
- Quáº£n lÃ½ quyá»n truy cáº­p file trÃªn Linux  
- XÃ³a volume Docker báº±ng `sudo`  
- Cáº¥u hÃ¬nh network Ä‘Ãºng cÃ¡ch Ä‘á»ƒ trÃ¡nh xung Ä‘á»™t  

Há»‡ thá»‘ng hoáº¡t Ä‘á»™ng nhÆ° má»™t **mÃ´ hÃ¬nh IoT hoÃ n chá»‰nh**:  
- **Node-RED**: Thu tháº­p dá»¯ liá»‡u tá»« cáº£m biáº¿n (hoáº·c API online)  
- **MariaDB**: LÆ°u dá»¯ liá»‡u quan há»‡, quáº£n lÃ½ báº±ng phpMyAdmin  
- **InfluxDB**: LÆ°u dá»¯ liá»‡u thá»i gian thá»±c (time-series)  
- **Grafana**: Trá»±c quan hÃ³a dá»¯ liá»‡u qua dashboard  

Em nháº­n tháº¥y táº§m quan trá»ng cá»§a **monitoring** vÃ  **flow dá»¯ liá»‡u** trong IoT:  
> Thu tháº­p dá»¯ liá»‡u â†’ LÆ°u trá»¯ (Realtime & Historical) â†’ PhÃ¢n tÃ­ch â†’ Hiá»ƒn thá»‹ trá»±c quan  

Dá»± Ã¡n giÃºp em cá»§ng cá»‘ ká»¹ nÄƒng ká»¹ thuáº­t, hiá»ƒu rÃµ hÆ¡n vá» **Docker**, **cÆ¡ sá»Ÿ dá»¯ liá»‡u**, vÃ  **cÃ¡c cÃ´ng cá»¥ mÃ£ nguá»“n má»Ÿ** phá»¥c vá»¥ triá»ƒn khai há»‡ thá»‘ng IoT.

---

## âš¡ KhÃ³ khÄƒn gáº·p pháº£i  
Trong quÃ¡ trÃ¬nh thá»±c hiá»‡n:  
- Lá»—i Ä‘á»‹nh dáº¡ng dá»¯ liá»‡u (NaN, payload khÃ´ng há»£p lá»‡) khi káº¿t ná»‘i Node-RED vá»›i MariaDB/InfluxDB.  
- Sai cÃº phÃ¡p truy váº¥n Flux trong Grafana.  
- Máº¥t nhiá»u thá»i gian Ä‘á»ƒ cáº¥u hÃ¬nh Docker vÃ  cáº¥p quyá»n giá»¯a cÃ¡c container.
- VÃ  cÃ²n ráº¥t nhiá»u lá»—i khÃ¡c ná»¯a ......  

Tuy nhiÃªn, qua viá»‡c **thá»­ nghiá»‡m â€“ sá»­a lá»—i â€“ tÃ¬m hiá»ƒu**, em Ä‘Ã£ hiá»ƒu rÃµ hÆ¡n vá» **cÃ¡ch dá»¯ liá»‡u luÃ¢n chuyá»ƒn** trong há»‡ thá»‘ng:  
**Cáº£m biáº¿n (mÃ´ phá»ng báº±ng nodered) â†’ Node-RED â†’ CSDL â†’ Grafana**.

---

ğŸ“Œ *BÃ i táº­p nÃ y giÃºp em rÃ¨n luyá»‡n ká»¹ nÄƒng thá»±c hÃ nh, hiá»ƒu rÃµ quy trÃ¬nh tÃ­ch há»£p há»‡ thá»‘ng vÃ  táº§m quan trá»ng cá»§a viá»‡c quáº£n lÃ½ mÃ´i trÆ°á»ng phÃ¡t triá»ƒn vá»›i Docker, bÃ i táº­p cá»§a em cÃ²n ráº¥t nhiá»u lá»—i mÃ  e chÆ°a hoÃ n thiá»‡n Ä‘Æ°á»£c Ä‘áº·c biá»‡t lÃ  **InfluxDB** vÃ  **Grafana**, em sáº½ cá»‘ gáº¯ng tÃ¬m hiá»ƒu vÃ  fix lá»—i Ä‘á»ƒ hoÃ n thiá»‡n bÃ i má»™t cÃ¡ch triá»‡t Ä‘á»ƒ vÃ  hoÃ n háº£o hÆ¡n em cáº£m Æ¡n tháº§y Ä‘Ã£ xem vÃ  nháº­n sÃ©t bÃ i táº­p vá» nhÃ  láº§n nÃ y cá»§a em.*
